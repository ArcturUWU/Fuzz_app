{% extends "base.html" %}
{% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0">Report for {{ project.name }}</h2>
    <a class="btn btn-outline-light" href="/projects/{{ project.id }}/report-pdf">Download PDF</a>
  </div>
  <h4>Files</h4>
  <ul class="list-group mb-3">
    {% for f in project.files %}
    <li class="list-group-item">{{ f.filename }}</li>
    {% else %}
    <li class="list-group-item">No files uploaded</li>
    {% endfor %}
  </ul>
  <h4>Analyses</h4>
  <ul class="list-group mb-3">
    {% for a in project.analyses %}
    <li class="list-group-item"><pre class="mb-0">{{ a.result }}</pre></li>
    {% else %}
    <li class="list-group-item">No analyses</li>
    {% endfor %}
  </ul>
  <h4>Fuzz stats</h4>
  {% if project.fuzz_stats %}
  <table class="table table-sm">
    <thead>
      <tr><th>Variable</th><th>Iterations</th><th>Errors</th><th>CPU&nbsp;s</th><th>Mem&nbsp;kB</th><th>Duration&nbsp;s</th></tr>
    </thead>
    <tbody>
    {% for s in project.fuzz_stats %}
      <tr>
        <td>{{ s.variable }}</td>
        <td>{{ s.iterations }}</td>
        <td>{{ s.errors }}</td>
        <td>{{ '%.2f'|format(s.cpu_time) }}</td>
        <td>{{ '%.1f'|format(s.memory_kb) }}</td>
        <td>{{ '%.2f'|format(s.duration) }}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>No fuzzing performed.</p>
  {% endif %}
  <a href="/projects/{{ project.id }}" class="btn btn-secondary mt-3">Back</a>
</div>
{% endblock %}
